2005-02-18 Christian Seiler <self@christian-seiler.de>
	* scripts/fo_userconf.in: Small bugfix + implemented feature request
		#207 (http://bugs.selfhtml.org/bug.php?op=show&bugid=207)

2005-02-17 Christian Seiler <self@christian-seiler.de>
	* conf/fo_post.conf.in: Added spellchecker configuration directives
	* src/modules/flt_spellcheck.c: First implementation of a
		spellchecker in C using ispell.
	* src/modules/Makefile.am: Added flt_spellcheck.la

2005-02-17 Christian Kruse <ckruse@wwwtech.de>
	* conf/fo_view.conf.in, conf/fo_post.conf.in: Added another plugin and some
		required directives
	* src/fo_view.c: Small bugfix, thread-only view is not yet implemented
	* src/modules/flt_mailonpost.c: Fixed small bug, now abo link is not generated
		if there is no email-address in user config
	* scripts/fo_usermanagement.in, scripts/cf-cleanup.pl.in,
		scripts/fo_userconf.in, scripts/fo_xmlrpc.in: Added exec_prefix variable
	* scripts/cf-compile_templates.pl: Fixed bug, install directory is not always
		library directory
	* docs/admin.tex: Wrote installation tutorial for Classic Forum V3

2005-02-16 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_mailonpost.c: Fixed several bugs, now it seems to work
	* conf/fo_post.conf.in: Added cleanup routines for mailonpost database
	* conf/fo_server.conf.in, conf/fo_view.conf.in, conf/fo_vote.conf.in,
		conf/fo_default.conf.in, conf/fo_post.conf.in, conf/fo_arcview.conf.in:
		Changed some default pathes for better LFSH conformance
	* configure.in: Changed default path for socket name
	* conf/fo_xmlrpc.conf.in: Added RegisterName plugin to default configuration
	* scripts/fo_xmlrpc.in, src/perl/Plugins/XMLRPCUserManagement.pm: Changed to
		3.0 API and made some code cleaning
	* scripts/fo_usermanagement.in, scripts/cf-cleanup.pl.in,
		scripts/fo_userconf.in, scripts/fo_xmlrpc.in: Code cleaning, now argument of
		'use lib' points to @libdir@/cforum (pkglibdir)
	* src/swig/CForum-Clientlib/CForum-Clientlib.i: Added a new function for
		creating a new rline_t pointer, forgot it to write in first version
	* src/swig/CForum-Clientlib/Makefile.PL.in: Added new_rlinet() function to
		@EXPORT_OK variable

2005-02-15 Christian Kruse <ckruse@wwwtech.de>
	* src/cf-recovery.c: Migration finished, seems to work fine
	* src/modules/flt_failsafe.c: Added THRDLST_WRITTEN_HANDLER which re-creates
		the backup file after threadlist has been written to disk
	* src/defines.h: Added THRDLST_WRITTEN_HANDLER
	* src/cf-tid_index.c: Small bugfix in description
	* src/archiver.c: Added THRDLST_WRITTEN_HANDLER
	* conf/fo_view.conf.in: Added configuration directives for generating HTML
		code (OpenThread, OpenPosting, OpenSubtree, CloseSubtree, ClosePosting,
		CloseThread)
	* src/fo_view.c, src/modules/flt_posting.c: Now the threadlist output is
		configurable
	* src/configparser.c: Added directives OpenThread, OpenPosting, OpenSubtree,
		CloseSubtree, ClosePosting, CloseThread
	* conf/patterns/perl.pat, conf/patterns/php.pat: Bugfix for several operator
		patterns
	* conf/patterns/html.pat: Fixed several bugs in pattern file
	* src/modules/flt_syntax.c: Implemented pattern elements used by html pattern
		matching, invented *_start constructs
	* src/arrayutils.c: Fixed small bug in array_element_at()
	* src/modules/flt_posting.c: Fixed bug in replacing {$vname}
	* src/fo_post.c: Fixed bug in body_plain2coded(), it is [msg:], not [message:]
	* src/modules/flt_mailonpost.c: Began to write plugin for sending mails on new
		post; compiles cleanly, but not yet tested
	* conf/errormessages.de.txt: Added messages for sending mail on new post
	* configure.in: Added checks for libesmtp
	* src/clientlib.h: Changed prototype for AFTER_POST_HANDLER
	* src/modules/flt_preview.c: Small bugfix in comment
	* src/fo_post.c: Changed behavior of AFTER_POST_HANDLER
	* src/handlerrunners.c: Changed prototypes and behavior of AFTER_POST_HANDLER

2005-02-14 Christian Kruse <ckruse@wwwtech.de>
	* conf/patterns/php.pat: Added => operator
	* src/cf-recovery.c: Renamed fo_recovery to cf-recovery, began to migrate it
		to 3.0 API
	* src/cf-tid_index.c: Renamed fo_tid_index to cf-tid_index

2005-02-11 Christian Kruse <ckruse@wwwtech.de>
	* conf/Makefile.am: Changed installation path, added patterns/ directory to
		SUBDIRS
	* conf/fo_server.conf.in, conf/fo_view.conf.in,
		conf/fo_usermanagement.conf.in, conf/fo_vote.conf.in,
		conf/fo_default.conf.in, conf/fo_userconf.conf.in, conf/fo_post.conf.in,
		conf/fo_arcview.conf.in: Changed a lot of substitution values
	* configure.in: Added repair.pl to repair path names in config files, removed
		some configure options no longer needed
	* src/modules/flt_directives.c: Small bugfix (used uninitialized value)
	* src/serverlib.c: Small bugfixes in not-shm code
	* src/perl/Plugins/Makefile.am, src/perl/Plugins/Management/Makefile.am,
		src/perl/Makefile.am: Changed installation path
	* src/fo_arcview.c: Several small bugfixes because of uninitialized values
	* src/swig/Makefile.in: Changed LIB pathes
	* src/swig/CForum-Template/Makefile.PL.in,
		src/swig/CForum-Configparser/Makefile.PL.in,
		src/swig/CForum-Validator/Makefile.PL.in,
		src/swig/CForum-Clientlib/Makefile.PL.in: Fixed bugs in -L argument
	* src/parsetpl/parsetpl.lex: Fixed bug because of uninitialized values
	* src/configparser.c: Removed very old configuration option ErrorMessages
	* scripts/fo_usermanagement.in, scripts/cf-cleanup.pl.in,
		scripts/fo_userconf.in, scripts/fo_xmlrpc.in: Fixed "use lib" handling
	* scripts/Makefile.am: Added start script cforum.sh to EXTRA_DIST variable
	* scripts/cforum.sh.in: Added start script for forum server
	* conf/patterns/Makefile.am: Makefile for installing pattern files
	* src/fo_post.c: Bugfix for quote chars
	* repair.pl.in: Added script to fix config files (gets rid of this f***
		${prefix} and ${exec_prefix})

2005-02-10 Christian Seiler <self@christian-seiler.de>
	* src/ipcutils.c: added to repository, implemented ipc_dpopen and
		ipc_dpclose functions
	* src/Makefile.am, src/utils.h: added references to ipcutils.c and
		the functions supplied by it

2005-02-10 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_post.c: Bugfix in unicode whitespace handling
	* scripts/cf-xmlconv.pl: Added repairing routine to change old, old directive
		syntax to new syntax
	* src/serverlib.c: Bugfix in user image handling
	* src/modules/flt_deleted.c: Added config option to deaktivate blacklist in
		thread view
	* conf/modules.de.xml: Added blacklist configuration directive
	* src/swig/Makefile.in: Enhanced makefile template
	* src/clientlib.h: Changed prototype for cf_msg_linearize()
	* src/messageutils.c: Fixed a really nasty bug in cf_msg_linearize(), now the
		prev pointers will be set correctly
	* src/htmllib.c: Bugfix in parser. Now it seems to work correctly
	* conf/modules.de.xml: Removed LineWidth directive
	* src/modules/flt_syntax.c: Changed flt_syntax behavior, now the first line
		break will be ignored

2005-02-09 Christian Kruse <ckruse@wwwtech.de>
	* conf/fo_view.conf.in: Added two modules
	* conf/fo_post.conf.in: Added three modules
	* conf/fo_arcview.conf.in: Moved to new config syntax, added some modules,
		added some sorting directives
	* src/fo_view.c: Fixed small variable initialization bug
	* src/modules/flt_latex.c: Fixed small variable intialization bug
	* src/modules/flt_xmlarc.c: Added XML storage module for the archive viewer
	* src/cfcgi.[ch]: Renamed function (name was really bad)
	* src/fo_arcview.c: Totaly rewrote the archive viewer
	* src/configparser.c: Added some sorting directives for the archive viewer,
		made archive viewer directives local
	* scripts/cf-cleanup.pl.in: Fixed bug in cleanup_deleted()
	* src/modules/flt_cftp.c: Fixed bug in STAT * commands
	* conf/modules.de.xml: Removed directive CheckForLinks (no longer supported)
	* src/utils.[ch]: Added redirect_nice_uri(), this function generates an
		absolute URI if necessary and removes double slashes
	* src/modules/flt_xmlarc.c, src/fo_arcview.c: Changed redirection to
		redirect_nice_uri()
	* src/modules/flt_visited.c: Fixed really nasty bug in
		flt_visited_mark_own()
	* src/modules/flt_cftp.c: Wah! Really nasty bug!
	* conf/modules.de.xml: Bugfix, directive is not Category, it is Categories
	* scripts/fo_userconf.in: Fixed bug in directive handling
	* src/modules/flt_postingassistant.c: Now series of dots are ignored in tests
	* src/fo_post.c: Added date variable
	* src/configparser.c: Added DateFormat directive for fo_post
	* conf/fo_post.conf.in: Added DateFormat directive
	* src/fo_view.c: Added handler hook to sort a thread in thread view
	* src/clientlib.h: Added prototypes for new handler runner
	* src/modules/flt_sorting.c: Added hook to sort messages in thread view
	* src/defines.h: Added new handler hook number
	* src/handlerrunners.c: Added new handler runner
	* src/modules/flt_syntax.c: Fixed bug in onstringlist
	* src/modules/flt_visited.c: Small bugfix in variable setting
	* src/modules/flt_posting.c: Changed threadlist algorithm to use t_string
	* src/modules/flt_openclose.c: Small bugfix
	* src/htmllib.c: Changed directive parser, now it is more strict but faster
	* src/fo_post.c: Fixed bug in body_plain2coded(), quoting chars were not
		entities encoded but body was
	* src/modules/flt_syntax.c: Bugfix in tokenizer
	* conf/patterns/php.pat: Added patterns for <?php and ?>
	* src/modules/flt_listhighlight.c: Fixed bug in cfg_get_first_value() call
	* src/fo_post.c: Fixed a small bug in quote char handling
	* src/htmllib.c: Fixed a small bug in quote char handling
	* src/modules/flt_posting.c: Fixed a small bug in quote char handling

2005-02-08 Christian Kruse <ckruse@wwwtech.de>
	* configure.in: Added cf-cleanup.pl
	* src/swig/CForum-Configparser/CForum-Configparser.i: Small bugfix
	* scripts/cf-cleanup.pl.in: Added cleanup script, therefore I deleted
		fo_cleanup
	* scripts/fo_userconf.in: Bugfix, there were some small errors in config file
		handling
	* conf/modules.de.xml: Added directive LiveFilterOverwrite
	* conf/patterns/perl.pat: Fixed bug in perl pattern
	* src/modules/flt_cftp.c: Fixed really nasty bug in thread insertion
	* src/modules/flt_directives.c, src/modules/flt_threadreturnanchor.c,
		src/modules/flt_motd.c, src/modules/flt_livefilter.c,
		src/modules/flt_deleted.c, src/modules/flt_category.c,
		src/modules/flt_basic.c, src/modules/flt_link.c,
		src/modules/flt_votingvariables.c, src/modules/flt_listhighlight.c,
		src/modules/flt_tplmode.c, src/modules/flt_frameset.c,
		src/modules/flt_visited.c, src/modules/flt_scoring.lex,
		src/modules/flt_postingassistant.c, src/modules/flt_http.c,
		src/modules/flt_tipoftheday.c, src/modules/flt_preview.c,
		src/modules/flt_include.c, src/modules/flt_posting.c,
		src/modules/flt_sorting.c, src/modules/flt_openclose.c: Added multi forum
		abilities
	* src/defines.h: Added CF_SORT_NEWESTFIRST, added URL_REWRITE_HANDLER
	* src/perl/Plugins/ImportExport.pm: Moved to upload() routine, the new way of
		handling file uploads in CGI.pm
	* src/clientlib.h: Added t_filter_urlrewrite
	* src/modules/flt_directives.c: Added hook for URL rewriting
	* src/clientlib.h: Corrected prototypes for t_new_post_filter and
		cf_run_post_filters()
	* src/modules/flt_categorycheck.c, src/modules/flt_remotesignature.c,
		src/modules/flt_postingassistant.c, src/modules/flt_preview.c: Fixed handler
		run functions to new prototype
	* src/perl/Plugins/RegisterName.pm: Fixed small bug, SocketName is in global
		scope, not in local scope
	* src/fo_post.c: Fixed bug in new post handlers, now the socket to the server
		will always be given
	* src/handlerrunners.c: Changed cf_run_post_filters(), now it uses always the
		server socket
	* src/modules/flt_registerednames.c: Added debug output
	* src/modules/flt_checkregisteredname.c: Added plugin to check if user name is
		registered

2005-02-07 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_link.c: Fixed bug in variable setting
	* src/serverlib.c: Initialized variable
	* src/fo_server.c: Initialized variable
	* conf/patterns/perl.pat: Fixed several bugs in patterns
	* conf/patterns/php.pat: Removed second heredoc block
	* src/fo_post.c, src/fo_post.h: Changed behavior and prototype of
		display_posting_form(), now it expects a pointer to the handled message and
		sets category and subject in the message template
	* src/modules/flt_categorycheck.c, src/modules/flt_postingassistant.c,
		src/modules/flt_preview.c: Changed display_posting_form() call
	* configure.in: Added outputs for SWIG modules
	* src/perl/ForumUtils.pm: Moved to new SWIG module API
	* src/swig/CForum-Template/CForum-Template.i,
		src/swig/CForum-Template/Makefile.PL.in: Added CForum::Template module,
		binding to libcftemplate
	* src/swig/CForum-Configparser/Makefile.PL.in: Added Makefile.PL.in for the
		configparser
	* src/swig/CForum-Validator/Makefile.PL.in: Added Makefile.PL.in for the
		validator
	* src/swig/CForum-Clientlib/CForum-Clientlib.i,
		src/swig/CForum-Clientlib/Makefile.PL.in: Added CForum::Clientlib, interface
		to libcfclientlib and the charset converting routines
	* scripts/fo_usermanagement.in: Moved to new SWIG modules interface
	* conf/errormessages.de.txt: Added missing error message
	* src/perl/Plugins/Makefile.am: Removed CategoryCheck.pm, doesn't exist any
		longer
	* src/perl/Plugins/Management/SQL.pm: Some small bugfixes
	* scripts/Makefile.am: Bugfix, script is fo_userconf, not fo_userconf.in
	* scripts/fo_userconf.in: Moved to new SWIG module API
	* src/perl/Plugins/RegisterName.pm: Moved to new SWIG module API
	* src/perl/Plugins/ImportExport.pm: Moved to new SWIG module API
	* conf/modules.de.xml: Added several configuration options
	* src/modules/flt_syntax.c: ActivateSyntax is now also allowed in user config
		mode
	* src/configparser.c: RedirectOnPost is now also allowed in user context

2005-02-06 Christian Seiler <self@christian-seiler.de>
	* conf/patterns/php.pat: Some improvements

2005-02-06 Christian Kruse <ckruse@wwwtech.de>
	* conf/errormessages.de.txt: Patrick Canterino fixed some typos
	* conf/patterns/perl.pat: Corrected some misstakes in the patterns
	* conf/patterns/php.pat: Corrected some misstakes
	* src/modules/flt_xmlstorage.c: Fixed a really nasty bug in reading the stored
		XML!
	* src/modules/flt_syntax.c: Implemented first version of syntax highlighting
	* src/serverlib.c: Fixed bug in periodical worker
	* src/htmllib.c: Fixed bug in XHTML mode recognizing
	* src/fo_server.c: Fixed bug of logfile handler, moved server environment to
		new position _after_ daemonizing
	* src/modules/flt_link.c: Bugfix, now directives are local
	* scripts/cf-indextips.pl: Bugfix, forgot a ;
	* src/modules/flt_cftp.c: Fixed nasty bug in message insertion on posting
		answers to existing threads
	* src/modules/flt_xmlstorage.c: removed CF_SORT_* and added it to defines.h
	* src/defines.h: Added CF_SORT_* symbols
	* src/serverlib.c: Fixed bug in cf_read_posting()
	* conf/patterns/html.pat: Fixed bugs in html pattern file

2005-02-03 Christian Kruse <ckruse@wwwtech.de>
	* conf/patterns/perl.pat, conf/patterns/php.pat: Corrected escaping
	* src/modules/flt_syntax.c: Implemented pattern file parser

2005-02-02 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_directives.c: Added hook for rewriting [link:] URLs to
		posting references
	* src/modules/flt_postingassistant.c: Small bugfix, used email without a check
	* src/fo_post.c: Added two variables in posting templates
	* src/configparser.c: Removed PostingURI
	* conf/patterns/perl.pat: Removed line
	* conf/patterns/html.pat: Fixed syntax
	* src/utils.c: little bit code cleaning
	* src/modules/flt_syntax.c: Module for syntax highlighting

2005-02-01 Christian Kruse <ckruse@wwwtech.de>
	* src/clientlib.c: Fixed a _really_ nasty bug in cf_get_error_message()
		(doubly free()d a dynamically allocated buffer)
	* src/modules/flt_directives.c: Small bugfix in [ref:] handling
	* src/defines.h: Added CF_BUFSIZ (nice for debugging memory problems)
	* src/stringutils.c: Replaced BUFSIZ by CF_BUFSIZ

2005-01-31 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_directives.c: Moved to new directive API
	* src/modules/flt_categorycheck.c: Small bugfixes of silly errors
	* src/modules/flt_postingassistant.c: Small bugfix, used uninitialized
		variable
	* src/fo_vote.c: Small bugfix, used old function name
	* src/validate.c: Small bugfix in http link checking
	* src/htmllib.c: Invented new directive API, wrote first version of the BB
		code parser
	* src/htmllib.h: Interface of the new directive parser API
	* docs/admin.tex: Began to write an installation tutorial
	* src/modules/flt_latex.c: Added plugin to support [latex]. Works basically,
		seems to be bug free

2005-01-28 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_categorycheck.c: Added plugin to check if a valid category
		has been posted
	* src/modules/flt_postingassistant.c: Small code cleaning
	* src/modules/Makefile.am: Added flt_categorycheck

2005-01-27 Christian Kruse <ckruse@wwwtech.de>
	* src/clientlib.c: Bugfix, error string from database as not null-terminated
	* src/fo_vote.c: Bugfix, now fo_vote sends an error message if no parameters
		are given.
	* src/validate.c: Added / char in HTTP link validation to allowed characters
		to support RFC 3986 URIs

2005-01-26 Christian Seiler <self@christian-seiler.de>
	* src/parsetpl/parsetpl.lex: Do not create a new stack on {include},
		added support to assign variables to other variables,
		some bugfixes and improvements in memory handling
	* src/template.h, src/template.c: added arrayref member to the
		t_cf_tpl_variable structure; it is now possible to overwrite
		{foreach} vars without segmentation faults

2005-01-25 Christian Seiler <self@christian-seiler.de>
	* src/utils.h, src/stringutils.c: Added str_cstr_append function to
		append NULL-terminated strings.
	* src/template.c: Fixed bug in cf_tpl_setvar()
	* src/parsetpl/parsetpl.lex: Added {elseif} support; it now does not
		create a new stack on each {if}, {foreach}, variable
		assignment, etc.

2005-01-25 Christian Kruse <ckruse@wwwtech.de>
	* src/swig/CForum-Configparser/CForum-Configparser.i: Several bugfixes, added
		ENTER macro since it is not declared
	* src/swig/CForum-Configparser/Makefile.in: Added Makefile.in for
		configuration parser
	* src/swig/CForum-Validator/Makefile.in: Added Makefile for validator
	* src/swig/CForum-Validator/CForum-Validator.i: Added validator functions

2005-01-23 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_postingassistant.c: Implemented several format checks for
		the	signature
	* src/swig/typemaps.i: Added file for some basic typemaps
	* src/swig/CForum-Configparser/CForum-Configparser.i: Moved it to the right
		directory, added callback function, made it possible to register own
		configuration options and register a default configuration callback function
	* src/swig/CForum-Configparser/Makefile.PL: Added Makefile.PL to automize
		compilation

2005-01-22 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_posting.c: Fixed bug in variable setting

2005-01-21 Christian Kruse <ckruse@wwwtech.de>
	* conf/errormessages.de.txt: Fixed bug in error message
	* conf/fo_post.conf.in: Added flt_postingassistant
	* src/utils.c: Bugfix in gen_unid() function
	* src/modules/flt_postingassistant.c: Moved to 3.0 API, fixed bugs
	* src/modules/flt_posting.c: Small code cleaning
	* src/modules/flt_sorting.c: Added possibility to use default sorting
	* src/fo_post.c: Bugfix in body_str2coded()


2005-01-20 Christian Kruse <ckruse@wwwtech.de>
	* conf/fo_post.conf.in: Added PreviewDateFormat directive, added preview
		module and remote-signature module
	* src/modules/flt_tid_index.c: Small bugfix to initialize all variables
	* src/modules/flt_preview.c: Moved to 3.0 API, implemented it completely
	* src/modules/flt_posting.c: Moved several directives to flt_preview.c
	* src/cfcgi.c: Little bit code cleaning
	* src/fo_post.c: Small bugfix, now fields ending with Url are ignored if their
		content is "http://"
	* src/modules/flt_remotesignature.c: Moved to 3.0 API, debugged it
	* src/defines.h: Invented new symbol CF_VERSION
	* src/fo_post.h: Added prototype for body_plain2coded()
	* src/clientlib.c: Added DB_RDONLY flag to db->open() call

2005-01-20 Christian Seiler <self@christian-seiler.de>
	* src/template.h: added cf_tpl_var_clone prototype
	* src/template.c: added cf_tpl_var_clone function, bugfix in
		cf_tpl_var_add

2005-01-19 Christian Kruse <ckruse@wwwtech.de>
	* conf/fo_server.conf.in: Corrected ModulePath
	* conf/errormessages.de.txt: Added some error messages, corrected some typos
	* conf/fo_post.conf.in: Invented FieldValidate directive
	* src/clientlib.c: Several bugfixes, changed behavior of cf_set_variable()
	* src/fo_post.c: Lots of bugfixes, lot of developement; should work now.
	* src/configparser.c: Added FieldValidate directive
	* src/memoryutils.c: Code cleaning
	* src/fo_view.c: several bugfixes, all variables are set in the fo_view now
	* src/clientlib.h: Added prototypes and datatypes
	* src/modules/flt_posting.c: Added routine to set some default variables in
		posting display
	* src/communication.c: Removed variable settings
	* src/fo_post.c: Bugfixes, added handler for displaying the form
	* src/defines.h: Added handler hook
	* src/handlerrunners.c: Added handler runner function for the
		POSTING_DISPLAY_HANDLER hook
	* src/configparser.c: Fixed small bug
	* src/modules/flt_directives.c: Bugfix for bug #484, added support for
		rel="nofollow" to avoid spamming

2005-01-19 Christian Seiler <self@christian-seiler.de>
	* src/parsetpl/parsetpl.lex: lot's of feature improvements, it is
		now possible to access loop variable (@first, @last,
		@iterator) and the {if}-syntax was made much more flexible,
		fixed nasty bug in process_variable_print_tag()

2005-01-18 Christian Kruse <ckruse@wwwtech.de>
	* src/template.c: Fixed segfault in cf_tpl_var_convert(),
		fixed other bug in tpl_cf_var_convert()
	* conf/errormessages.de.txt: Added several error messages
	* conf/fo_view.conf.in: Added trailing slash in ModulePath
	* conf/fo_post.conf.in: Added trailing slash in ModulePath, removed quotes
		from forum identifier, added QuotingChars
	* scripts/cf-msgs2db.pl: small bugfixes
	* src/utils.c: Changed gen_unid() to make better IDs
	* src/fo_post.c: Lot of debugging and developement
	* src/handlerrunners.c: Bugfix, used uninitialized value
	* src/configparser.c: Added QuotingChars directive for fo_post options

2005-01-18 Christian Seiler <self@christian-seiler.de>
	* src/parsetpl/parsetpl.lex: fixed segfault in generated variable
		display code

2005-01-17 Christian Seiler <self@christian-seiler.de>
	* src/arrayutils.c: fixed really nasty bug in array_pop
	* src/parsetpl/parsetpl.lex: fixed bug in foreach that could have
		caused a segmentation fault while running; changed
		strlen(yytext) to yyleng; fixed small bug in a rule;
		fixed bug in ignoring of invalid tags
	* src/template.c: added support to convert array to string

2005-01-17 Christian Kruse <ckruse@wwwtech.de>
	* src/perl/CForum-*: Removed for 3.0 release (will be replaced by
		SWIG)
	* swig/CForum-Configparser.i: Began to rewrite perl interfaces with SWIG
	* cgi-shared/, htdocs/, logs/, cgi-bin/: Removed for 3.0
	* src/perl/Plugins/, src/perl/ForumUtils.pm, conf/, docs/: Moved there
		for 3.0 release
	* scripts/msgs2db.pl: Invented Getopt::Long for easier handling
	* scripts/indextips.pl: Invented Getopt::Long for easier handling
	* bootstrap: Moved to new directory structure
	* src/fo_view.c, src/clientlib.c, src/modules/flt_threadreturnanchor.c,
		src/modules/flt_livefilter.c, src/modules/flt_deleted.c,
		src/modules/flt_basic.c, src/modules/flt_link.c,
		src/modules/flt_votingvariables.c, src/modules/flt_listhighlight.c,
		src/modules/flt_frameset.c, src/modules/flt_visited.c,
		src/modules/flt_scoring.lex, src/modules/flt_include.c,
		src/modules/flt_posting.c, src/modules/flt_openclose.c,
		src/modules/flt_admin.c, src/fo_vote.c, src/communication.c,
		src/messageutils.c: Moved to new template engine API
	* src/fo_view.c, src/clientlib.h: Fixed typo (cf_run_sorting_handlers(), not
		run_sorting_handlers())
	* src/fo_post.c: Moved to 3.0 API, compiles cleanly but has not been tested
		yet!
	* src/handlerrunners.c: Added several handler runners
	* conf/fo_post.conf.in: Moved to new fo_post
	* configure.in: Removed template entries
	* src/parsetpl/Makefile.am: renamed parsetpl to cf-parsetpl
	* src/configparser.c: Adopted configuration options for fo_post
	* scripts/cf-compile_templates.pl: Added script to compile templates
	* src/parsetpl/parsetpl.lex: Fixed \x0D handling (confuses compiler)

2005-01-16 Christian Seiler <self@christian-seiler.de>
	* src/template.c, src/template.h: Lot's of changes to support loops
	 	and includes
	* src/parsetpl, src/parsetpl/Makefile.am, src/parsetpl/parsetpl.lex: added
		them to repository, replaces template_gen.pl
	* src/Makefile.am: added parsetpl to SUBDIRS
	* configure.in: added src/parsetpl/Makefile to AC_OUTPUT

2005-01-16 Christian Kruse <ckruse@wwwtech.de>
	* cgi-shared/ForumUtils.pm: Bugfixes
	* cgi-bin/fo_usermanagement.in: Moved to 3.0 API
	* cgi-shared/Plugins/ImportExport.pm: Added plugin to import and export
		configuration data
	* cgi-shared/config/errormessages.de.txt: Added several error messages
	* cgi-shared/config/fo_userconf.conf.in: Added several configuration
		directives
	* cgi-bin/fo_userconf.in: Debugged it
	* CategoryCheck.pm, CheckRegisteredName.pm, FixedLineWidth.pm,
		MarkOwnVisited.pm, PostingAssistant.pm, PostOkLink.pm, Preview.pm,
		Quotings.pm, RandomSignature.pm, SendMailOnAnswer.pm, SpellCheck.pm,
		Variables.pm: Removed for 3.0 release
	* cgi-bin/Makefile.am: Removed fo_post_old
	* src/templates/de/tpl_*/importform.html,
		src/templates/de/tpl_*/importok.html: Added templates for importing
		configuration data
	* src/templates/de/tpl_*/usersettings.html: Added links to import and export
		user configuration data
	* src/templates/de/tpl_*/Makefile.am: Added import templates
	* cgi-shared/Plugins/Makefile.am: Removed old plugins, added ImportExport.pm
	* cgi-shared/Plugins/HTTPAuth.pm: Moved to new API
	* cgi-shared/config/fo_userconf.conf.in: Added templates
	* cgi-bin/fo_usermanagement.in: Bugfixes
	* cgi-bin/fo_userconf.in: Bugfixes
	* cgi-shared/Plugins/Management/SQL.pm: Moved to 3.0 API
	* cgi-shared/Plugins/RegisterName.pm: Moved to 3.0 API
	* src/templates/de/tpl_*/forum_thread.html: Fixed bug #473

2005-01-15 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_directives.c: Bugfix for [ref:], now it supports @title=
	* cgi-shared/Plugins/MarkOwnVisited.pm: Removed CheckRFC.pm, fixed little bug
	* cgi-shared/Plugins/PostOkLink.pm: Removed CheckRFC.pm
	* cgi-shared/Makefile.am: Removed CheckRFC.pm
	* src/serverlib.c: Bugfix in t_forum initialization
	* src/fo_server.c: Now setting RUN explicitely to 0 to ensure that (in error
		case) the worker- and periodical threads end.
	* src/fo_view.c: Small bugfix creating socket
	* src/fo_cleanup.c: Moved to 3.0 API, added cleanup for voting, invented
		getopt usage
	* src/fo_vote.c: Moved to 3.0 API, small bugfix
	* src/configparser.[ch]: Added CF_MODE_NOLOAD for avoid loading modules,
		corrected modes for directives
	* cgi-shared/config/fo_xmlrpc.conf.in,
		cgi-shared/config/fo_usermanagement.conf.in,
		cgi-shared/config/fo_vote.conf.in, cgi-shared/config/fo_userconf.conf.in:
		Corrected syntax of configuration files
	* src/fo_tid_index.c: Moved to 3.0 API, invented getopt usage
	* src/fo_threadlookup.c: Moved to 3.0 API, made it a little bit more nice
	* cgi-bin/fo_userconf.in: Fixed bug #432
	* cgi-bin/fo_post_old.in: Removed for 3.0
	* configure.in: Removed fo_post_old.in
	* cgi-shared/ForumUtils.pm: Moved to 3.0 API, removed some routines no longer
		needed, not yet tested!
	* cgi-bin/fo_userconf.in: Moved to 3.0 API, not yet tested!

2005-01-14 Christian Kruse <ckruse@wwwtech.de>
	* src/clientlib.h: Added t_hierarchical_node and some prototypes for handling
		them
	* src/modules/flt_xmlstorage.c: Little bit code cleaning
	* src/modules/flt_sorting.c: Implemented message sorting
	* src/communication.c: Added hierarchical structure in threads
	* src/messageutils.c: Added some functions to handle hierarchical messages

2005-01-13 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_view.c: Small bugfix (cut'n'paste is evil!)
	* src/clientlib.h: Invented thread->newest
	* src/modules/flt_motd.c, src/modules/flt_frameset.c, src/modules/flt_http.c,
		src/modules/flt_posting.c, src/modules/flt_openclose.c: Small bugfixes
		(added CFG_OPT_LOCAL in directives)
	* src/modules/Makefile.am: Added flt_sorting.c
	* src/communication.c: Invented thread->newest
	* cgi-shared/config/fo_view.conf.in: Added flt_sorting, changed flt_owncss to
		flt_include
	* src/modules/flt_sorting.c: Added first sorting plugin (sorting threads is
		implemented, sorting messages has to be implemented)

2005-01-12 Christian Kruse <ckruse@wwwtech.de>
	* configure.in: Added --enable-sorting parameter
	* src/fo_view.c: Added sorting API
	* src/fo_server.h: Added head.periodicals
	* src/utils.c: Added header files
	* src/clientlib.h: Added several proto- and datatypes
	* src/modules/flt_category.c: Small bugfix
	* src/serverlib.[c]: Moved to periodical system (you can add arbitrary jobs
		which should executed periodically)
	* src/config.h.in: Added CF_NO_SORTING
	* src/communication.c: Added cf_get_threadlist()
	* src/defines.h: Added SORTING_HANDLER
	* src/validate.c: Small bugfixes
	* src/handlerrunners.c: Added run_sorting_handlers()
	* src/archiver.c: Added more debug output
	* src/configparser.c: Added LogMaxSize
	* src/fo_server.c: Added LogMaxSize worker
	* cgi-shared/config/fo_server.conf.in: Added LogMaxSize directive

2005-01-11 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_view.c: Bugfixes, implemented plugin API bugfix (now the modes are
		meaningful)
	* src/clientlib.[ch]: Two small bugfixes
	* src/modules/flt_xmlstorage.c: Deleted GDOME_LOAD_VALIDATING, this is really
		sucking slow and means a lot of HTTP traffic on wwwtech.de
	* src/modules/flt_directives.c, src/modules/flt_httpauth.c,
		src/modules/flt_deleted.c, src/modules/flt_link.c,
		src/modules/flt_listhighlight.c, src/modules/flt_visited.c,
		src/modules/flt_posting.c, src/modules/flt_threadreturnanchor.c,
		src/modules/flt_motd.c, src/modules/flt_category.c,
		src/modules/flt_basic.c, src/modules/flt_handle404.c,
		src/modules/flt_votingvariables.c, src/modules/flt_tplmode.c,
		src/modules/flt_frameset.c, src/modules/flt_scoring.lex,
		src/modules/flt_http.c, src/modules/flt_tipoftheday.c,
		src/modules/flt_include.c, src/modules/flt_admin.c: Migrated to new 3.0 API
	* src/modules/flt_openclose.c: Migrated to new 3.0 API, made it to first POST
		filter
	* src/htmllib.c: Migrated to new 3.0 API
	* src/messageutils.c: Bugfix in cleanup function
	* src/configparser.c: Bugfix for user mode configuration parsing
	* src/modules/flt_livefilter.c: Migrated to 3.0 API, added LiveFilterOverwrite
		configuration directive
	* cgi-shared/config/modules.de.xml: Added LiveFilterOverwrite directive

2005-01-10 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_view.c: Migrated to 3.0 API
	* src/clientlib.c: Migrated to 3.0 API, code cleanup, moved several functions
		to new files, invented flags
	* src/clientlib.h: Code cleanup, invented flags
	* src/modules/flt_cftp.c: Bugfix in answer to new posts and threads
	* src/communication.c: Moved cf_get_* to this file
	* src/handlerrunners.c: Moved handler running functions to this file
	* src/messageutils.c: Moved message utilities to this file
	* src/configparser.c: Bugfixes for configuration directives
	* src/Makefile.am: Made entries for several libraries and the fo_view program
	* cgi-shared/Plugins/MarkOwnVisited.pm, cgi-bin/fo_post_old.in:	Bugfix for
		this f** endless read() call
	* src/modules/flt_xmlstorage.c: Bugfix, now p->posts will be set correctly
	* src/serverlib.c: Bugfix in shared memory handling
	* src/communication.c: Bugfixes in SHM handling
	* src/configparser.c: Hack for user configuration
	* cgi-shared/config/fo_view.conf.in: removed quotes from context identifier

2005-01-09 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_registerednames.c: Migrated to 3.0 API
	* src/modules/flt_cftp.c: Replaced \t by spaces
	* src/modules/flt_xmlstorage.c: Replaced \t by spaces, fixed several memory
		leak bugs
	* src/modules/flt_extern.c: Migrated to 3.0 API, fixed memory leak bugs
	* src/modules/flt_failsafe.c: Migrated to 3.0 API
	* src/modules/flt_voting.c: Migrated to 3.0 API
	* src/modules/flt_tid_index.c: Migrated to 3.0 API
	* src/archiver.[ch]: Changed archiver plugin API, now the forum object is an
		argument
	* src/fo_server.c: Added INIT_HANDLER hook (forgot it to implement)
	* cgi-shared/config/fo_server.conf.in: Removed NNTP directives (there is no
		NNTP plugin, yet)

2005-01-08 Christian Kruse <ckruse@wwwtech.de>
	* src/validate.c: Fixed bug in is_valid_link() function (now it is view-source
		aware)

2005-01-07 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_xmlstorage.c: Debugging, bugfixing and wrote
		flt_xmlstorage_archive_threads
	* src/archiver.[ch]: Debugging, bugfixing. Now the storage module gets a
		complete list of threads to archive, this seems to make more sense
	* src/configparser.h: Added prototype of cfg_destroy()
	* src/cf_pthread.c, src/modules/flt_xmlstorage.c, src/archiver.c, fo_server.c:
		Added include for serverutils.h
	* src/modules/flt_cftp.c: Migrated from 2-branch to trunk
	* src/serverlib.[ch]: removed rw-list functions, bugfixes, added
		cf_read_posting() and cf_send_posting()
	* src/serverutils.[ch]: Invented new library, contains only rw-list functions
		yet.

2005-01-04 Christian Kruse <ckruse@wwwtech.de>
	* src/utils.[ch]: Added cf_make_path() in utilities
	* src/modules/flt_xmlstorage.c: Did several bugfixes, removed locking, added
		support for new forum (empty or non-existant forum.xml)
	* src/serverlib.c: Several bugfixes

2005-01-02 Christian Kruse <ckruse@wwwtech.de>
	* cf_pthread.h: Removed tabs
	* src/xml_handling.c: Small bugfixes
	* src/utils.h: Added type attribute to t_list_element
	* src/charconvert.c: removed tabs
	* src/modules/flt_xmlstorage.c: Several bugfixes, did a workaround for memory
		leak in GDOME2
	* src/listutils.c: added full support for static values
	* src/serverlib.c: Bugfixes in worker, shm handling, added destroy routines
		for threads and postings, wrote some more cleanup code
	* src/arrayutils.c: Source code format fix
	* src/serverlib.h: Added cleanup functions for threads and postings
	* src/archiver.c: removed tabs, bugfixes, added support for
		cf_write_threadlist(NULL), removed cf_write_threadlist() call from
		cf_run_archiver()
	* src/configparser.c: Wrote a lot of cleanup code, fixed memory leaks
	* src/configparser.h: Added some cleanup functions
	* src/fo_server.c: Wrote a lot of cleanup code, did some bugfixes, added
		threadlist and archiver thread

2005-01-01 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_xmlstorage.c: Debugging, now it compiles cleanly
	* src/fo_server.c, src/serverlib.c: Wrote a lot of cleanup code
	* src/archiver.c: Added debug output
	* cgi-shared/config/fo_server.conf.in,
		cgi-shared/config/fo_default.conf.in: Fixed bugs in configuration
		files

2004-12-31 Christian Kruse <ckruse@wwwtech.de>
	* src/defines.h: Removed FORUM_DTD constant, its only important for
		flt_xmlstorage.c
	* src/archiver.c: Added folding markers
	* src/modules/flt_xmlstorage.c: Implementet threadlist writer (not testet
		yet!)

2004-12-31 Christian Seiler <self@christian-seiler.de>
	*: Merged back XMLRPC changes from 2.1

2004-12-31 Christian Kruse <ckruse@wwwtech.de>
	* *: Merged back changes from 2.1

2004-12-31 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_category.c: Added configuration option
		HideCategoriesInThreadView
	* src/modules/flt_listhighlight.c: A little bit code cleaning
	* cgi-shared/config/modules.de.xml: Added configuration option
		HideCategoriesInThreadView and moved several configuration options to
		different sections

2004-12-30 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_vote.c: Added variable backlink in OK output
	* src/templates/de/tpl_*/vote_ok.html: Added link back to posting
	* src/fo_view.c: Fixed bug in filter handling
	* src/modules/flt_visited.c: Fixed bug in 204 response
	* cgi-shared/config/modules.de.xml: Added 204 response options

2004-12-19 Christian Kruse <ckruse@wwwtech.de>
	* src/defines.h: Added several handler hooks
	* src/modules/flt_xmlstorage.c: Added several handlers (not yet implemented!),
		added configuration directives
	* src/serverlib.[ch]: Added cf_remove_thread() function (it removes a thread
		from the double linked list)
	* src/archiver.[ch]: Added several handler hook implementations
	* src/configparser.c: Removed MessagePath and ArchivePath directives; they're
		plugin dependent

2004-12-19 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_view.c: several small changes for folding
	* src/xml_handling.c, src/xml_handling.h: added some xml routines to make it
		easier to handle DOM
	* src/modules/flt_xmlstorage.c: totally rewrote flt_xmlstorage.c
	* src/modules/flt_admin.c: several small changes for folding
	* src/serverlib.c, src/serverlib.h: little bit code cleaning (tabs are really
		nasty), small bugfix, added support for flags in datatypes, added
		cf_destroy_flag() and fixed a bug in handler function
	* src/fo_server.c: little bit code cleaning (f*ck off tabs!)
	* src/archiver.[ch]: rewrote archiver functions (not yet finished, not yet
		tested!) -- it compiles cleanly

2004-12-19 Christian Kruse <ckruse@wwwtech.de>
	* *: Merged back changes from 2.1

2004-12-19 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_deleted.c: Fixed bug in tpl_cf_setvar() call
	* src/perl/CForum-Clientlib/Clientlib.xs: Fixed bug in
		CForum::Clientlib::Thread->deleted
	* src/fo_arcview.c: Deleted unecessary cfg_get_value() call

2004-11-29 Christian Kruse <ckruse@wwwtech.de>
	* cgi-shared/Plugins/RandomSignature.pm: Added UTF-8 validation and it also
		parses more than one [remote-signature:]
	* src/modules/flt_include.c, src/templates/de/tpl_xhtml10/forum_posting.html,
		src/templates/de/tpl_xhtml10/forum_begin.html,
		cgi-shared/config/modules.de.xml: Added support for an XSLT template

2004-11-28 Christian Kruse <ckruse@wwwtech.de>
	* src/cfcgi.c: Fixed a really nasty bug in cf_cgi_url_decode(); now it is safe

2004-11-26 Christian Kruse <ckruse@wwwtech.de>
	* src/cf_pthread.c: Fixed several bugs (now it compiles cleanly)
	* src/serverlib.c: Fixed several bugs which caused crashes of the server
	* src/serverlib.h: Added void *cf_worker(void *)
	* src/archiver.c, archiver.h: Deleted nearly all functions; the archiver has
		to be written	nearly new
	* src/configparser.c: Fixed bugs in directive management, fixed behavior of
		CFG_OPT_NEEDED
	* src/fo_recovery.c: Removed xml_handling.h
	* src/fo_server.c: Fixed several bugs, added validation of the Forums
		directive
	* cgi-shared/config/fo_default.conf.in: Fixed bug in Forum context directive,
		added VoteURL directive
	* cgi-shared/config/fo_server.conf.in: Moved several directives to global
		context

2004-11-24 Christian Kruse <ckruse@wwwtech.de>
	* *: Merged 2.1 differences back to the trunk

2004-11-18 Christian Kruse <ckruse@wwwtech.de>
	* cgi-shared/Plugins/PostingAssistant.pm: Fixed typo

2004-11-17 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_view.c, src/modules/flt_posting.c: Fixed bug in HTML generation of
		the thread trees
	* src/validate.c: Fixed bug in hostname validation (hostnames like foo or bar
		(without any dot in it) are now allowed)
	* THANKS: new mail address for Christian Seiler
	* cgi-shared/CheckRFC.pm: removed, no longer needed

2004-11-07 Christian Kruse <ckruse@wwwtech.de>
	* cgi-shared/ForumUtils.pm: Fixed typo
	* src/validate.[ch]: Fixed bugs in ftp URI validation, added file URI
		validation

2004-11-04 Christian Kruse <ckruse@wwwtech.de>
	* src/templates/{de,fr}/tpl_*/forum_posting.html,
		src/templates/{de,fr}/tpl_*/forum_begin.html: Fixed a bug, now JS will be
		included
	* src/fo_server.h, src/serverlib.h, src/fo_server.c, src/serverlib.c: Fixed
		several bugs, now serverlib.c compiles cleanly
	* src/cf_pthread.h: Added prototypes for cf_cond_*

2004-11-02 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_directives.c: Bugfix in @title handling for [pref:]
	* src/modules/flt_deleted.c: Bugfix, used uninitialized variable
	* cgi-shared/ForumUtils.pm: Bugfix in @title handling for [pref:]

2004-10-29 Christian Kruse <ckruse@wwwtech.de>
	* src/templates/fr/tpl_html4/forum_posting.html,
		src/templates/fr/tpl_xhtml10/forum_posting.html,
		src/templates/de/tpl_html4/forum_posting.html,
		src/templates/de/tpl_xhtml10/forum_posting.html: Fixed bug in stylesheet
		inclusion

2004-10-27 Christian Kruse <ckruse@wwwtech.de>
	* src/htmllib.c: Bugfix in directive parser
	* cgi-shared/ForumUtils.pm: Bugfix in directive parsing
	* src/modules/flt_directives.c: Bugfix in directive parsing
	* src/fo_server.h, src/serverlib.c, src/fo_server.c: further developement of
		the server components

2004-10-26 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_server.h, src/cf_pthread.c, src/cf_pthread.h,
		src/modules/flt_xmlstorage.c, src/serverlib.c, src/serverlib.h,
		src/initfinish.h, src/fo_server.c: Further developement of the new server
		components
	* cgi-shared/ForumUtils.pm: Fixed bug in [iframe:] handling

2004-10-21 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_xmlstorage.c: Moved src/initfinish.c to flt_xmlstorage.c,
		'cause the new forum server has its data storage system implemented as a
		plugin (so that we can use a rdbms also, if wanted)
	* src/serverlib.c: Implemented cf_load_data()
	* src/serverlib.h: Added t_data_loading_filter datatype

2004-10-20 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_server.h, src/utils.h, src/serverlib.c, src/serverlib.h,
		src/listutils.c, src/configparser.c, src/fo_server.c, src/defines.h: Began
		rewrite of fo_server
	* cgi-shared/config/fo_server.conf.in: Added Forums directive
	* cgi-shared/ForumUtils.pm: Fixed a bug in link handling (entities became
		encoded twicely)

2004-10-18 Christian Kruse <ckruse@wwwtech.de>
	* *: Merged changes from 2.1 branch back to trunk (manually, *grml*)

2004-10-15 Christian Kruse <ckruse@wwwtech.de>
	* Changed configuration parser API to implement multi forum management ability

2004-10-01 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_category.c: Renamed some functions and variables (module
		functions and variables have to be prefixed by the module name!)

2004-09-29 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_failsafe.c: Fixed several bugs, removed redundant code (now
		the writer is a function)
	* src/modules/flt_posting.c: Fixed a warning (several typcasts)
	* src/archiver.c: Removed a semicolon (older gccs are really allergic against
		it)
	* src/Makefile.am: Added fo_recovery
	* src/fo_recovery.c: Added recovery program
	* src/fo_server.c: Removed a unneccessarry #endif #ifdef

2004-09-28 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_posting.c, cgi-shared/Plugins/PostingAssistant.pm,
		cgi-shared/ForumUtils.pm: Changed to new directive syntax ([link:...@title=],
		[image:...@alt=]
	* src/modules/flt_failsafe.c: Renamed flt_safe.c to flt_failsafe.c
	* src/modules/Makefile.am: Renamed flt_safe to flt_failsafe
	* src/configparser.c: Moved XHTMLMode from fo_view options to fo_default
		options
	* cgi-bin/fo_post_old.in: Fixed bug in entities handling
	* src/modules/flt_cftp.c: Fixed a initilization bug
	* src/modules/flt_tplmode.c, src/htmllib.c: Fetching XHTMLMode now from
		fo_default_conf
	* cgi-shared/ForumUtils.pm: Fixed bug in new link/image handling

2004-09-27 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_tipoftheday.c: Deleted CFG_OPT_NEEDED flag and added
		additional check for TipOfTheDayIndex configuration entry
	* src/modules/flt_livefilter.c: Fixed typo bug (wrote root, ment
		root_node)
	* src/configparser.[ch]: Added list for check directives with the
		CFG_OPT_NEEDED flag, uniquified handling of error messages
	* src/listutils.c: Added function for statically add a list member
	* src/utils.h: Added cf_list_append_static() prototype
	* cgi-shared/config/modules.de.xml: Edited description for LinkNoVisited
	* cgi-shared/config/modules.fr.xml: Added several configuration directives.
		Have to be translated to france!

2004-09-26 Christian Kruse <ckrsue@wwwtech.de>
	* src/configparser.c: Added QuotingChars directive for fo_arcview
	* src/charconvert.c: Added folding hooks ({{{ and }}})
	* src/clientlib.c: Added perror() when shm*() fails
	* src/modules/flt_livefilter.c: Added folding hooks, renamed some functions,
		fixed some error handling bugs
	* src/modules/flt_tplmode.c: Fixed a bug (removed a free() call)
	* src/perl/CForum-Configparser/*: Fixed several bugs, changed to new
		configparser API
	* src/perl/CForum-Clientlib/*: Fixed several bugs, implemented shm handling
	* Doxyfile.in: Removed CFML, changed to srcripts/
	* cgi-shared/Plugins/MarkOwnVisited.pm: Changed sub VERSION to our $VERSION
	* cgi-shared/Plugins/Preview.pm: Changed to clientlib API
	* cgi-shared/ForumUtils.pm: Added UTF-8 validation, removed tab characters
	* cgi-shared/config/errormessages.{de,fr}.txt: Added several messages
	* cgi-shared/config/fo_post.conf.in: Added SMTP directives for mailing a
		notice on answer
	* cgi-shared/Plugins/SendMailOnAnswer.pm: Plugin for sending mail on activity
		in thread

2004-09-19 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_posting.c: Bugfix, forgot to set some variables

2004-09-15 Christian Kruse <ckruse@wwwtech.de>
	* cgi-shared/config/modules.de.xml: Added RegisteredName (where has it gone?!)
	* src/modules/flt_registerednames.c: Fixed bug in name transformation

2004-09-13 Christian Kruse <ckruse@wwwtech.de>
	* configure.in: Added src/perl/CForum-Validator/Makefile.PL in AC_OUTPUT()
	* src/cf_pthread.c: Added configparser.h and readline.h for inclusion
	* src/fo_server.h: Added some defines for heavy load handling
	* src/fo_post.c: Deleted comma in str_error_message() call
	* src/defines.h: Added new thread handler
	* src/modules/flt_cftp.c: Added two handlers (NEW_THREAD_HANDLER and
		NEW_POST_HANDLER), improved the filter (locking bug, all variables are now
		defined in function header. So there is no need to create a new stack in
		if() statement)
	* src/modules/flt_deleted.c: Renamed some function names, added 204 response
	* src/modules/flt_visited.c: Renamed some function names, added 204 response
	* src/modules/flt_posting.c: Corrected some bugs in cite handling
	* src/modules/Makefile.am: Added flt_safe.c
	* src/modules/flt_safe.c: Added fo_server plugin for fail safe. It writes all
		new threads and postings to a file on disk in a binary format
	* src/validate.c: corrected some bugs in validation
	* src/htmllib.c: corrected some bugs in HTML creation
	* src/serverlib.c: Changed heavy load behavior
	* src/validate.h: Changed ¶ to r (spelling misstake)
	* src/serverlib.h: Added two new function pointer types
	* src/perl/CForum-Validator/Validator.xs: Changed second parameter of
		is_valid_http_link() to the default value of false
	* src/fo_arcview.c: Fixed bug, now setting {$year}
	* src/fo_server.c: Some format corrections
	* cgi-shared/Plugins/PostingAssistant.pm, cgi-shared/ForumUtils.pm: Changed to
		new behavior of HTML creation, changed to CForum::Validator
	* cgi-shared/config/fo_usermanagement.conf.in: Fixed masquerading bugs
	* cgi-shared/config/modules.de.xml: Added OwnJSFile directive, fixed spelling
		misstake
	* cgi-shared/config/Makefile.am: Added errormessages.{de,fr}.txt
	* cgi-shared/config/modules.fr.xml: Fixed spelling misstake
	* cgi-bin/fo_usermanagement.in: Changed to CForum::Validate
	* cgi-bin/fo_post_old.in: Changed to CForum::Validate, fixed bug in entity
		masquerading
	* cgi-bin/fo_userconf.in: Changed to CForum::Validate

2004-08-24 Jan Rieger <jr@occuris.de>
	* src/templates/de/tpl_*/forum_end.html: changed "Threads löschen" to "Markierte Threads ausblenden"

2004-08-15 Christian Kruse <ckruse@wwwtech.de>
	* src/perl/CForum-Validator/: Added a perl interface to the URL validation
		functions of the Classic Forum

2004-08-13 Christian Kruse <ckruse@wwwtech.de>
	* CREATED 2.1 BRANCH

2004-08-13 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_view.c: Changed behavior of the fo_view program: now it sets the
		standard variables itself. It provides »ReadMode« now.
	* src/clientlib.[ch]: Added parent_message() function
	* src/utils.h, src/stringutils.c: Added nsplit() function
	* src/defines.h: Added handler hooks for directive and content filters
	* src/configparser.[ch]: Added another configuration flag (CFG_OPT_UNIQUE),
		added several configuration flags
	* src/htmllib.[ch]: Added html library, function for handling threads and
		postings in HTML context
	* src/modules/flt_voting.c, src/modules/flt_handle404.c,
		src/modules/flt_scoring.lex, scripts/msgs2db.pl.in, src/modules/flt_motd.c,
		src/modules/flt_preview.c, src/fo_vote.c: set svn:keywords property
	* src/modules/flt_posting.c: Changed behavior, now it follows the new API for
		directives and content filters
	* src/modules/Makefile.am: Added libcfvalidate.la for flt_posting
	* src/Makefile.am: Added libcfhtml.la for fo_view
	* configure.in: Now also generating Makefile.PL in the perl modules
		directories
	* src/modules/flt_tplmode.c: Now flt_tplmode automaticly determines the XHTML
		mode
	* src/perl/CForum-Template/Makefile.PL.in,
		src/perl/CForum-Plugins/Makefile.PL.in,
		src/perl/CForum-Configparser/Makefile.PL.in,
		src/perl/CForum-Clientlib/Makefile.PL.in: Changed to new placeholders
	* cgi-shared/ForumUtils.pm, cgi-bin/fo_post_old.in: Changed to
		CForum::Clientlib (much better for I18N), fixed a bug (called wrong routine)

2004-08-12 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_tipoftheday.c: Useless changes, thought I had to fix a bug
		but there wasn't one at all

2004-08-10 Christian Kruse <ckruse@wwwtech.de>
	* cgi-bin/fo_usermanagement.in: Fixed a bug, forgot exit() call
	* cgi-bin/fo_userconf.in: Fixed a warning bug ($val||'')

2004-08-09 Christian Seiler <self@christian-seiler.de>
	* cgi-shared/Plugins/SpellCheck.pm: Added 'SpellCheckerPath' config option,
		fixed offset bug due to new version of ispell.
	* cgi-bin/fo_usermanagement.in, src/templates/de/tpl_*/userregok.html:
		fixed wrong links on "successfully registered" page

2004-08-09 Christian Kruse <ckruse@wwwtech.de>
	* src/xml_handling.c, src/fo_post.c, src/modules/flt_registerednames.c,
		src/modules/flt_remotesignature.c, src/modules/flt_openclose.c,
		src/modules/flt_admin.c, src/cfcgi.c, src/readline.c, src/fo_arcview.c,
		src/configparser.h, src/templates/de/tpl_html4/forum_begin.html,
		src/templates/de/tpl_xhtml10/forum_begin.html: Changed \t to spaces
	* src/modules/flt_scoring.lex: Changed behavior of flt_scoring, now it's much
		more tricky
	* src/modules/flt_handle404.c, src/fo_threadlookup.c: Fixed a bug in URL
		generation
	* src/clientlib.[ch]: Added a new function (gen_tpl_name)
	* cgi-shared/config/modules.de.xml: Added flt_scoring directives, fixed
		validation of ShowFrom and ShowUntil
	* src/modules/flt_scoring.lex: Fixed a silly bug in percentage calculation
	* cgi-bin/fo_usermanagement.in: Fixed spelling misstake, fixed validation
		handling
	* cgi-shared/config/errormessages.de.txt: Fixed spelling misstake
	* cgi-shared/ForumUtils.pm: Bugfix in [pref:] handling; wah! no <b/>-links!

2004-08-08 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_scoring.lex: Fixed bug in applying score and config parsing
	* src/modules/flt_posting.c: Fixed bug causing question marks at the beginning
		of every [pref:] URI
	* cgi-shared/ForumUtils.pm: Fixed bug in link parsing
	* cgi-shared/config/modules.de.xml: Fixed several bugs in <validate/> tags

2004-08-07 Christian Seiler <self@christian-seiler.de>
	* src/fo_view.c,
		src/modules/flt_posting.c,
		src/modules/flt_threadreturnanchor.c: fo_view now sets $forumbase itself,
		flt_posting.c does not set it anymore and flt_threadreturnanchor sets
		$forumreturn instead of modifying $forumbase
	* src/templates/{de,fr}/tpl_*/forum_posting.html: changed {$forumbase} to
		{if $forumreturn}{$forumreturn}{else}{$forumbase}{endif}
	* src/fo_threadlookup.c: Fixed the bug that caused /2004/8#@%10/t1/-URLs.
	* cgi-shared/config/fo_usermanagement.conf.in, cgi-shared/config/fo_default.conf.in:
		Corrected some values.
	* cgi-bin/fo_usermanagement.in: Fixed bug that inhibited new registrations,
		always assigned $userconfig when in /my.
	* cgi-bin/fo_userconf.in: Always assign $userconfig in /my.

2004-08-05 Christian Kruse <ckruse@wwwtech.de>
	* src/templates/de/tpl_*/Makefile.am: Fixed bug, source file is <tplname>.c,
		not <tplname>.html
	* src/templates/de/tpl_*/sendpassok.html,
		src/templates/de/tpl_*/sendpass.html: There is no user defined view, so I
		deleted the {if $owncss} tree
	* src/perl/CForum-Template/Template.xs: Added croak() for error message
	* cgi-shared/Plugins/Management/SQL.pm: Fixed bug, user column name was
		written statically in one statement
	* cgi-bin/fo_usermanagement.in: Fixed bugs (moved the send password part to the
		unauthorized part, fixed typos, etc, pp)
	* cgi-shared/config/modules.de.xml: Added motd directive
	* src/modules/Makefile.am: Added motd filter
	* cgi-shared/config/fo_view.conf.in: Added motd directives
	* src/templates/{de,fr}/tpl_*/forum_begin.html: Added motd variable
	* src/modules/flt_motd.c: Added message of the day filter
	* cgi-shared/Plugins/Management/Makefile.am: Ups, forget makefile template
	* cgi-shared/config/fo_usermanagement.conf.in: Ups, forget configfile template

2004-08-05 Christian Kruse <ckruse@wwwtech.de>
	* cgi-bin/fo_usermanagement.in: Added umask handling
	* cgi-shared/config/fo_usermanagement.conf.in: Added umask directive
	* TODO: Changed TODO list, the todos are not only for 2.0

2004-08-03 Jan Rieger <jr@occuris.de>
	* src/templates/de/tpl_*/sendpass*.html: Added templates for usermanagement

2004-08-03 Christian Kruse <ckruse@wwwtech.de>
	* src/templates/{de,fr}/tpl_*/forum_begin.html: Changed CSS a little bit,
		span.cathigh has been overwritten by other CSS
	* cgi-shared/config/errormessages.de.txt: Changed some names, added 'send
		password' messages
	* cgi-bin/fo_usermanagement.in: Changed behavior of validate_parameters() a
		little bit, now it returns the error text, not the fieldname. I also changed
		error handling and fixed it a little bit
	* src/templates/de/tpl_*/Makefile.am: added sendpass* to Makefiles
	* src/clientlib.c: Added another 'deep magic' note

2004-08-02 Christian Kruse <ckruse@wwwtech.de>
	* cgi-shared/Plugins/Management/SQL.pm: Bugfix, directives are named 'SQL*'!
		Changed behavior of get_password(), now it returns undef if user could not
		be found
	* cgi-bin/fo_usermanagement.in: Several bugfixes, e.g. setting script to
		UserManagement directive instead of UserConfig
	* cgi-bin/fo_userconf.in: Added template variable 'usermanagement'
	* sr/templates/{de,fr}/tpl_*/*.html: Several changes for fo_usermanagement
	* cgi-shared/ForumUtils.pm: Bugfix in db_get() call
	* src/configparser.c: Added directive 'UserManagement' for fo_default.conf
	* cgi-shared/config/fo_default.conf.in: Changed default value of URIs to query
		string (PATH_INFO has not been tested very well, yet)
	* src/templates/{de,fr}/tpl_*/userregister.html: Bugfix, {$script} instead of
		${script}

2004-08-01 Christian Kruse <ckruse@wwwtech.de>
	* cgi-bin/fo_userconf.in: Deleted fo_usermanagement code and redirecting user
		to it if not authorized

2004-07-31 Christian Kruse <ckruse@wwwtech.de>
	* src/clientlib.c: Changed messages system to BerkeleyDB
	* cgi-shared/config/locale/: Removed due to the crazyness of the gettext
		system
	* cgi-shared/config/errormessages.*: Involved the new language system
	* scripts/: Moved all distribution scripts to scripts/
	* scripts/msgs2db.pl.in: Involved a script to convert messages.*.txt (plain text)
		to BDB
	* scr/templates/{de,fr}/tpl_*/Makefile.am: Changed path to scripts/ directory
	* cgi-shared/ForumUtils.pm: Went to new messages API
	* src/clientlib.[ch]: Involved advanced_get_link(). This function creates a
		link string and appends some parameters. It cares about the delimiter string
		(e.g., is it a question mark (because it's the first parameter) or is it a
		ampersand (because it's not the first parameter))
	* src/modules/flt_admin.c: Changed to advanced_get_link()
	* src/modules/flt_openclose.c: Trivial changes, moved variable declarations
		and so on to function scope. So there is no need to create a new stack.
	* cgi-bin/fo_usermanagement.in: Added user management software
	* src/cfcgi.[ch]: Added parameter merging feature for cgilib
	* configure.in: Added fo_usermangement.in and fo_usermanagement.conf.in
	* cgi-shared/Plugins/Management/SQL.pm: Added user management plugin for SQL
		databases
	* htdocs/Makefile.am,htdocs/archiv/Makefile.am,cgi-shared/config/Makefile.am,
	* cgi-shared/Makefile.am,cgi-shared/data/Makefile.am,cgi-bin/Makefile.am:
		Bugfix in handling directory structure (test ! -d instead of test -d)
	* cgi-bin/Makefile.am: Added fo_usermanagement
	* configure.in: Added fo_usermanagement.conf and fo_usermanagement
	* cgi-shared/config/Makefile.am: Added fo_usermanagement.conf

2004-07-30 Christian Kruse <ckruse@wwwtech.de>
	* TODO: actualized
	* cgi-shared/config/locale/: Added gettext usage for error messages
	* cgi-shared/modules.*.xml: Added locale dependend modules configuration
	* cgi-bin/fo_userconf.in: Added locale depended handling of the modules
		configuration
	* scr/templates/: Reorganized for multi-language architecture
	* src/configparser.[ch]: Added parsing mode feature for the config parser
		(currently there are two modes, CFG_OPT_CONFIG and CFG_OPT_USER)
	* src/fo_*.c: Changed to new config parser behavior
	* src/modules/*.{c,lex}: Changed to new config parser behavior
	* src/clientlib.c, cgi-shared/ForumUtils.pm: Changed to gettext(), changed to
		multi language API
	* cgi-shared/config/fo_*.in, cgi-shared/config/modules.*.xml: Changed to new
		multi language api
	* src/fo_tid_index.c: Fixed a bug in db->put() handling (data string was one
		character to small, so the \0 byte wasn't added)

2004-07-29 Christian Kruse <ckruse@wwwtech.de>
	* cgi-bin/fo_post_old.in: Bugfix for URL handling
	* src/serverlib.c: Fixed bug in log message (thread <mid>, posting <tid> -- it
		has to be the other way round)
	* src/modules/flt_link.c: several bugfixes
	* src/modules/flt_posting.c: Implemented 'maximum number of signature lines'
		feature
	* cgi-bin/fo_userconf.in: Fixed some bugs (wrong regexes)

2004-07-29 Christian Kruse <ckruse@wwwtech.de>
	* CREATED 2.0 RC 2 BRANCH

2004-07-29 Christian Kruse <ckruse@wwwtech.de>
	* configure.in: Added some variables, changed default values of some
		variables, added cgi-bin/fo_post_old.in and cgi-bin/fo_userconf.in
	* src/modules/flt_posting.c: Added functionality of flt_reference
	* cgi-shared/Plugins/Makefile.am, cgi-shared/config/Makefile.am,
		cgi-shared/Makefile.am, cgi-shared/data/messages/Makefile.am,
		cgi-shared/data/Makefile.am: Added targets to install EXTRA_DIST files
	* Makefile.am: Added target to create ${bindir}/user/ and the necessary
		symlinks
	* cgi-shared/config/*.conf.in: Changed some variables
	* cgi-shared/tipoftheday.txt: Moved to cgi-shared/data/
	* cgi-bin/fo_post_old, cgi-bin/fo_userconf: Moved to .in, added @PERLMODULES@
	* cgi-bin/.htaccess: Added deny rule for non-cgi forum programs
	* src/modules/flt_link.c: Repaired flt_link.c, now you can choose if new
		messages should be displayed first
	* cgi-shared/config/modules.xml: Added LinkNoVisited directive
	* htdocs/: Cleanup of the htdocs directory
	* htdocs/live_syntax.html: Fixed some bugs in HTML
	* htdocs/scoring.html: Added documentation for flt_scoring
	* src/modules/flt_scoring.lex: Added support for field category

2004-07-27 Christian Kruse <ckruse@wwwtech.de>
	* cgi-bin/fo_userconf: Added 'mail me my password' functionality
	* cgi-shared/config/fo_userconf.conf.in: Added directives for 'mail me my
		password' functionality
	* src/modules/flt_reference.c: Removed, functionality has to be implemented in
		src/modules/flt_posting.c

2004-07-25 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_scoring.lex: Added the posibility to hide postings by score
		(e.g. hide all postings which have score smaller than 10)
	* cgi-shared/config/modules.xml: Added information for flt_scoring

2004-07-22 Christian Kruse <ckruse@wwwtech.de>
	* src/templates/tpl_*/forum_begin.html: Changed 'Tip' to 'Hinweis'
	* src/templates/tpl_*/forum_thread.html: Added space between images, added
		handling for flt_scoring
	* src/modules/flt_scoring.lex: Added module for newsreader-like scoring
	* src/modules/Makefile.am: Added flt_scoring and PCRE-linking for
		flt_urlrewrite
	* configure.in: Added PCRE detection
	* src/modules/flt_registerednames.c: Fixed memory leak

2004-07-21 Jan Rieger <jr@occuris.de>
	* src/templates/tpl_*/forum_begin.html: Fixed bug #310

2004-07-21 Christian Kruse <ckruse@wwwtech.de>
	* src/clientlib.c: Fixed bug (free() before fprintf())
	* src/fo_vote.c: Fixed bug, made it more userfriendly
	* src/configparser.c: Added fo_vote_conf in initialization
	* cgi-shared/config/errormessages.txt: Added error messages for fo_vote
	* cgi-shared/config/fo_server.conf.in: Added flt_voting
	* src/modules/flt_deleted.c: Added template variable 'delnodelete'

2004-07-20 Christian Kruse <ckruse@wwwtech.de>
	* src/hashlib.c: Fixed bug in calloc() call, changed cf_hash_set() behavior:
		now _cf_hash_split() will only be called if the number of elements is bigger
		or equal than hash table size. Now it also uses memcmp() instead of
		strcmp(), so binary data can be hashed, too. Thanks to Mark ter Brugge
		<m.h.terbrugge@dacolian.nl> for mail.
	* src/Makefile.am: Fixed bug (I commented out templates, this was wrong and
		never should have been commited)

2004-07-19 Christian Kruse <ckruse@wwwtech.de>
	* src/initfinish.c, src/xml_handling.c: Added votingGood and votingBad
		attributes
	* src/modules/flt_voting.c: Added voting functionallity for the protocol stack
	* src/modules/Makefile.am: Added flt_voting.c
	* src/fo_vote.c: Added voting functionality. It still has a bug!
	* src/Makefile.am: Added fo_vote.c
	* src/configparser.[ch]: Added configuration variables for fo_vote
	* cgi-shared/config/fo_vote.conf.in: Added voting config file
	* configure.in: Added fo_vote.conf in output directive

2004-07-17 Christian Kruse <ckruse@wwwtech.de>
	* cgi-shared/ForumUtils.pm: Now _really_ fixed bug for [pref:]

2004-07-16 Christian Kruse <ckruse@wwwtech.de>
	* src/Makefile.am: Added berkeley DB for fo_tid_index and fo_threadlookup
	* src/fo_tid_index.c, src/fo_threadlookup.c: Changed to BerkeleyDB
	* src/modules/Makefile.am: Added berkeley DB for flt_tid_index.c and
		flt_handle404.c
	* src/modules/flt_tid_index.c, src/modules/flt_handle404.c: Changed to berkeley db
	* TODO: Added TODO list
	* src/cfcgi.c: Fixed bug in PATH_INFO parsing

2004-07-15 Christian Kruse <ckruse@wwwtech.de>
	* src/clientlib.c: Changed behavior of get_link() (now it's much more flexible)
	* src/fo_view.c, src/flt_posting.c: adjusted get_link() calls to new behavior,
		added link parameter in msg_to_html API entry, added handling for ParamType,
		added 404 handler hook
	* src/fo_arcview.c: Fixed bug for [pref:] links
	* src/configparser.c: Added PostingURL, UPostingURL, ArchivePostingURL and
		ParamType
	* src/Makefile.am: Fixed link (libcfhashlib.la has to be defined before
		libcfutils.la)
	* src/datautils.c: Bugfix in str_to_u_int64()
	* src/cfcgi.[ch]: Added a function to parse a PATH_INFO string as name-value
		pairs
	* src/modules/Makefile.am: Added flt_handel404
	* src/modules/flt_handle404.c: Added handler for 404 cases (thread or message
		could not be found)

2004-07-13 Christian Kruse <ckruse@wwwtech.de>
	* src/validate.c: Added (optional) main program

2004-07-03 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_view.c, src/configparser.[ch], src/fo_arcview.c: Changed behavior
		of the default action (now, the directive name is part of the parameters)
	* src/clientlib.[ch], src/fo_view.c: Changed behavior of
		handle_posting_filters(), now the alternative configuration object is
		given as a param (and not fixed to fo_view_conf)
	* src/modules/flt_posting.c: Several bugfixes for fo_post mode
	* src/modules/Makefile.am: Added flt_postingassistant,
		flt_remotesignature and flt_preview
	* src/fo_post.c: Lots of bugfixes, lots of changes to new APIs
	* src/modules/flt_preview.c: Added module for previewing

2004-07-02 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_arcview.c: Bugfix: equivalent URIs (but not equal!) have been
		cached multiple times, made caching configurable, made compression level
		configurable (compression level 0 means no compression, compression level
		9 means maximum compression)
	* cgi-shared/config/fo_arcview.conf.in, src/configparser.c: Added caching
		directives
	* src/configparser.c: Bugfix in cf_tree_find() calls. Why has it been
		working till yet?!

2004-07-01 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_arcview.c: Bugfix with invisible postings handling
	* src/datautils.c: Bugfix for converting u_int64_t to strings (numbers have
		been reversed, now the order is correct)
	* src/modules/flt_reference.c: Now tested and bugfixed module, seems to work
	* src/fo_arcview.c: Bugfix for bug #174, changed the cache (now it uses
		gzip), added PATH_INFO to debug output of the signal hander
	* src/cacheutils.c, src/utils.h: Added gzip support for the cache
	* sr/Makefile.am: Added zlib to the libcfutils

2004-06-30 Christian Kruse <ckruse@wwwtech.de>
	* configure.in: Bugfix in protocol file handling, AC_DEFINE() quotes so
		replaced it AC_DEFINE_UNQUOTED(), made argument help strings nice with
		AC_HELP_STRING()

2004-06-27 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_posting.c: Bugfix for wrong markup (#268)
	* cgi-shared/ForumUtils.pm: Bugfix in pref-pattern (#266)
	* src/fo_arcview.c: Bugfix, archiv viewer now accepts a t in the thread id,
		changed to datautils.c API
	* src/datautils.c,src/utils.h: Added some functions for more proper u_int64_t handling

2004-06-27 Jan Rieger <jr@occuris.de>
	* src/templates/tpl_*/forum_begin.html: Added link to
		http://www.selfhtml.org/

2004-06-25 Christian Kruse <ckruse@wwwtech.de>
	* src/clientlib.c: small bugfix
	* src/modules/flt_posting.c: Bugfix for bug #245

2004-06-24 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_arcview.c: Bugfix for bug #258: threads will now be get sorted
	* src/templates/tpl_*/*.html: Changed mailto link to impressum link

2004-06-23 Christian Kruse <ckruse@wwwtech.de>
	* src/cacheutils.c: Bugfix in cache handling
	* src/configparser.c: Added CacheDir directive, bugfix in header handling
	* src/fo_arcview.c: Added caching for thread and month view
	* cgi-shared/config/fo_arcview.conf.in: Added CacheDir directive
	* src/utils.c: Added split() function again :-)

2004-06-22 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_livefilter.c: Filter now sets 'openclose' to a true value
		to avoid closing of threads in livefilter mode
	* src/modules/flt_openclose.c: Filter now recognizes 'openclose' value in
		the global values hash. If it is set, threads will not get closed.
	* src/fo_view.c, src/fo_arcview.c: Added exit() call in signal handler
	* src/fo_view.c: Fixed bug in message handling
	* src/serverlib.c: stripped additional newline from log line
	* src/*utils.c: Split the utils library into different module files
	* src/cacheutils.c: Added a cache module

2004-06-21 Christian Kruse <ckruse@wwwtech.de>
	* cgi-shared/config/modules.xml: Added optional deactivation of the
		Tip-Of-The-Day filter

2004-06-21 Jan Rieger <jr@occuris.de>
	* src/templates/tpl_*/*.html:
	  Changed copyright notice

2004-06-20 Christian Kruse <ckruse@wwwtech.de>
	* src/Makefile.am: Added fo_post
	* src/utils.[ch], src/fo_view.c, src/configparser.c, src/configparser.h:
		Rename from t_list to t_cf_list
	* src/modules/flt_tipoftheday.c: Bugfix
	* src/fo_arcview.c: Bugfix (avoid warnings)
	* cgi-bin/fo_post: Renamed fo_post to fo_post_old

2004-06-19 Christian Kruse <ckruse@wwwtech.de>
	* bootstrap: Added clean targets for several new directories
	* cgi-shared/: Little restructuring, deleted unnecessary directories, added
		Makefile.am files for every needed directory
	* src/modules/flt_tipoftheday.c: some performance enhancements
	* configure.in: Added new makefiles in output directive
	* src/templates/tpl_*/forum_begin.html: Added tip of the day
	* src/fo_threadlookup.c: Added content types for error messages

2004-06-19 Jan Rieger <jr@occuris.de>
	* src/templates/tpl_*/forum_begin.html:
	* src/templates/tpl_*/forum_end.html:
	  Changed/added anchor
	* src/templates/tpl_html4/forum_begin.html
	* src/templates/tpl_html4/forum_end.html
	* src/templates/tpl_html4/forum_posting.html
	* src/templates/tpl_html4/post_ok.html
	* src/templates/tpl_html4/thread.html
	* src/templates/tpl_xhtml10/arcmonths.html
	* src/templates/tpl_xhtml10/arcthread.html
	* src/templates/tpl_xhtml10/arcyears.html
	* src/templates/tpl_xhtml10/blank.html
	* src/templates/tpl_xhtml10/chpass.html
	* src/templates/tpl_xhtml10/chpassok.html
	* src/templates/tpl_xhtml10/errortpl.html
	* src/templates/tpl_xhtml10/fatal.html
	* src/templates/tpl_xhtml10/forum_end.html
	* src/templates/tpl_xhtml10/forum_posting.html
	* src/templates/tpl_xhtml10/frameset.html
	* src/templates/tpl_xhtml10/post_ok.html
	* src/templates/tpl_xhtml10/thread.html
	* src/templates/tpl_xhtml10/unreg.html
	* src/templates/tpl_xhtml10/unregok.html
	* src/templates/tpl_xhtml10/useredit.html
	* src/templates/tpl_xhtml10/usereditok.html
	* src/templates/tpl_xhtml10/userregister.html
	* src/templates/tpl_xhtml10/userregok.html
	* src/templates/tpl_xhtml10/usersettings.html
	  Fixed bug #228

2004-06-18 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_tipoftheday.c: Changed handling for reading tips (now a
		index is read first)
	* cgi-shared/tipoftheday.txt: Added some tips
	* indextips.pl: Added script do create an index for the Tip-Of-The-Day file
	* cgi-shared/config/*.conf.in: Changed @pkglibdir@ to @libdir@/cforum
	* configure.in: Added --with-protocol-file (for protocoling SIGSEGVs)
	* src/fo_view.c: Fixed typo
	* src/fo_arcview.c: Fixed typo
	* THANKS: Added a thanks file
	* AUTHORS: Formalized the AUTHORS file

2004-06-17 Christian Kruse <ckruse@wwwtech.de>
	* THANKS: Added file for thanking people
	* src/modules/flt_livefilter.c: Now, the livefilter sets explicitely
		may_show to 1
	* configure.in: added better checks for berkeley database
	* m4/: Added macros directory (e.g. berkeley database autodetection)
	* src/fo_arcview.c: some bugfixes
	* src/modules/flt_tipoftheday.c: Added a plugin for "Tip Of The Day"

2004-06-16 Christian Kruse <ckruse@wwwtech.de>
	* configure.in: Stripped some uneccessary WITH arguments
	* cgi-shared/config/templates/: Moved to src/templates/
	* src/fo_arcview.c: Fixed bug #199
	* src/fo_threadlookup.c: Fixed several bugs (e.g., config file handling),
		added better behavior for the 'Thread/Message could not be found' behavior
	* src/fo_tid_index.c: Fixed several bugs (e.g., config file handling, path1
		instead of path in snprintf())
	* src/cfcgi.c: Fixed bug in PATH_INFO parsing
	* src/Makefile.am: added libcfclientlib.la for fo_threadlookup
	* src/modules/flt_openclose.c: Fixed bug, now invisible unvisited threads
		are ignored
	* cgi-shared/ForumUtils.pm: several changes for performance and
		actualization

2004-06-16 Jan Rieger <jr@occuris.de>
	* cgi-shared/config/templates/tpl_*/arcmonths.html:
	* cgi-shared/config/templates/tpl_*/arcthreadlist_month.html:
	  (Re)added author row
	* cgi-shared/config/templates/tpl_*/arcmonths.html:
	  Removed author row, see Bug #173
	* cgi-shared/config/templates/tpl_*/arcthreadlist.html:
	  Added template variables, see Bug #173

2004-06-15 Jan Rieger <jr@occuris.de>
	* cgi-shared/config/templates/tpl_*/forum_begin.html:
		Changed meta refresh to only contain URL in frameset view
	* cgi-shared/config/templates/tpl_*/forum_thread.html:
		Fixed bug #194

2004-06-15 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_arcview.c: Bugfix for bug #180, #173
	* src/configparser.c: Added directive DateFormatViewList
	* cgi-shared/config/fo_arcview.conf.in: Added directive (and value)
		DateFormatViewList

2004-06-14 Jan Rieger <jr@occuris.de>
	* cgi-shared/config/templates/tpl_html4/thread.html:
	  Removed 'nowrap'
	* cgi-shared/config/templates/tpl_*/*.html:
	  Changed all *.teamone.de URLs to the new *.selfhtml.org URLs

2004-06-14 Christian Kruse <ckruse@wwwtech.de>
	* src/clientlib.c: Bugfix for counting messages
	* cgi-shared/config/modconf/modules.xml: Bugfix for validation entry,
		changed 'nein' to 'no'
	* cgi-bin/fo_userconf: Bugfix, now 'Fehler: HASH(...)' is no longer possible

2004-06-13 Jan Rieger <jr@occuris.de>
	* cgi-shared/config/templates/tpl_html4/forum_begin.html:
	* cgi-shared/config/templates/tpl_html4/forum_end.html:
	* cgi-shared/config/templates/tpl_html4/forum_thread.html:
	* cgi-shared/config/templates/tpl_html4/thread.html:
		Added <b> tags to links
	* cgi-shared/config/templates/tpl_html4/forum_begin.html:
	* cgi-shared/config/templates/tpl_xhtml10/forum_begin.html:
		Splitted 'QuickLinks' into 'QuickLinks' and 'Options', added link to
		SELFHTML aktuell

2004-06-12 Jan Rieger <jr@occuris.de>
	* cgi-shared/config/templates/tpl_html4/forum_thread.html:
	* cgi-shared/config/templates/tpl_xhtml10/forum_thread.html:
		Changed '#a1' to '#nachricht', added '#{$unanch}' to new links
	* cgi-shared/config/templates/tpl_html4/usereditok.html:
	* cgi-shared/config/templates/tpl_xhtml10/usereditok.html:
		Added link to {$userconfig}?a=edit
	* cgi-shared/config/templates/tpl_html4/forum_begin.html:
	* cgi-shared/config/templates/tpl_xhtml10/forum_begin.html:
		Changed 'Gelöschte Threads einblenden' to 'Ausgeblendete Threads anzeigen'

2004-06-07 Christian Kruse <ckruse@wwwtech.de>
	* src/utils.h: corrected documentation
	* src/configparser.[ch]: Changed access to configuration directives to AVL
		tree algorithms, added output of filename on syntax error
	* src/*, src/modules/*: Changed to new configparser API
	* src/fo_cleanup.c: Changed to BDB format
	* src/Makefile.am: added BDB linking to fo_cleanup
	* src/modules/flt_reference.c: Added a module for defining URI references
		(e.g. [ref:SELF7;tda.htm]), fixed a bug
	* cgi-shared/config/fo_server.conf.in: Added quotation marks around the
		extern port

2004-06-03 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_{deleted,visited,http}.c: Now If-Modified-Since and
		Last-Modified are handled correctly
	* src/modules/flt_admin.c: Fixed a bug in Last-Modified handling
	* src/modules/flt_deleted.c: Added functionality for undelete deleted
		threads
	* src/modules/flt_cftp.c: Bugfix in unique id handling
	* cgi-shared/templates/tpl_{html4,xhtml10}/forum_thread.html: Added link for
		undeleting threads, added checkbox for easier deletion of threads, added
		link for marking the whole thread visited
	* cgi-shared/templates/tpl_{html4,xhtml10}/forum_begin.html: Added formular,
		added link for deactivating the 'deleted threads view'
	* cgi-shared/templates/tpl_{html4,xhtml10}/forum_end.html: Added formular
		and submit button
	* cgi-shared/config/modconf/modconf.dtd: Added attribute id for page,
		changed element modules to element config
	* cgi-shared/config/modconf/modules.xml: Changed <!DOCTYPE modules to
		<!DOCTYPE config, added directives ThreadReturnAnchor and
		DeletedUseCheckbox
	* cgi-shared/ForumUtils.pm: Added fix for browser bugs (some browsers may
		send Windows-1252 instead of UTF-8 or Latin-1)
	* src/serverlib.c: Changed some sprintf() to snprintf()
	* src/serverlib.h: Added cf_tokenizer() prototype
	* src/modules/flt_extern.c: Added advanced external read-only interface
	* src/modules/flt_selfhtml.c: Added functionality for parsing
		[selfhtml:]-links (not yet tested!)
	* src/utils.[ch]: Added list abstraction class

2004-06-03 Christian Seiler <self@christian-seiler.de>
	* cgi-shared/config/templates/tpl_html4/arcmonths.html:
	* cgi-shared/config/templates/tpl_html4/arcthread.html:
	* cgi-shared/config/templates/tpl_xhtml10/arcmonths.html:
	* cgi-shared/config/templates/tpl_xhtml10/arcthread.html:
		added links back to year and month overview to navigation bar

2004-06-02 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_openclose.c: Added new feature, threads can now
		automatically be opened if there are new messages in it
	* src/modules/flt_livefilter.c: You can now use the keywords 'true' and
		'false', identifier 'visited' is now also supported, you can now use
		the identifier 'visible'
	* src/modules/flt_visited.c: Stripped debug code
	* src/modules/flt_basic.c: Corrected indenting code
	* src/modules/flt_posting.c: Fixed a bug with iframes, added new feature:
		you can show images and iframes as a link instead of <img>/<iframe>
	* src/modules/flt_link.c: Bugfix. Now <link> tags do no longer point to
		invisible messages. <link> tags have a aaf=1 now, too, if aaf is set

2004-05-27 Christian Kruse <ckruse@wwwtech.de>
	* src/clienlib.h: Stripped some #ifdef because they were a failure
	* src/modules/flt_deleted.c: Fixed a bug in BerkeleyDB handling
	* src/Makefile.am: Added libcfclientlib_la_LDFLAGS
	* src/modules/flt_visited.c: fixed bugs in BerkeleyDB handling
	* cgi-shared/Plugins/MarkOwnVisited.pm: Changed BerkeleyDB handling
	* cgi-shared/config/templates/tpl_{xhtml10,html4}/thread.html: Fixed bug (if
		not closed)
	* cgi-shared/config/templates/tpl_xhtml10/arcyears.html: Fixed bug (missing
		{if $font})
	* template_gen.pl: Changed a bug in \r handling
	* cgi-shared/config/templates/tpl_{xhtml10,html4}/useredit.html: Added the
		necessary {if $page} entry

2004-05-27 Jan Rieger <jr@occuris.de>
	* cgi-shared/config/templates/tpl_html4/*.html:
	  Updated HTML templates; templates are now according to the guidelines of
	  http://selfaktuell.teamone.de/sonst/layoutvorgaben.htm and valid html 4.01

2004-05-24 Jan Rieger <jr@occuris.de>
	* cgi-shared/config/templates/tpl_xhtml10/*.html:
	  Updated HTML templates; templates are now according to the guidelines of
	  http://selfaktuell.teamone.de/sonst/layoutvorgaben.htm and valid xhtml 1.0

2004-05-18 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/flt_visited.c: Changed to BerkeleyDB. My tree algorithms are
		very good for disk storaged databases.
	* src/modules/flt_deleted.c: Also changed to BerkeleyDB.
	* src/modules/flt_posting.c: Fixed some small bugs, added {$vname} variable
	* src/fo_arcview.[ch]: Added configparser to this release
	* src/clientlib.[ch]: Bugfixes, cleanup
	* src/modules/*: Some 64-Bit-Fixes
	* src/configparser.h: Some 64-Bit-Fixes

2004-04-26 Christian Kruse <ckruse@wwwtech.de>
	* src/clientlib.h, src/defines.h: Added another plugin type
		(AFTER_POST_FILTER) which will be called after a successfully transmitted
		posting
	* src/fo_post.[ch]: Added a lot of functionality of the posting script
	* cgi-bin/fo_{post,arcview}: removed perl scripts because they've been
		replaced by C programs
	* cgi-shared/templates/tpl_*/fatal.html: Removed because it's no longer
		needed

2004-04-25 Christian Kruse <ckruse@wwwtech.de>
	* configure, src/modules/compile_modules.sh.in: Added support for libwww
	* src/modules/Makefile.flt_remotesignature.in: Added new makefile for the
		remote signature plugin
	* src/fo_cleanup.c: Migrated program to the new directory structure (should
		have been happen at release of beta4!)
	* src/*.[ch]: Added documentation
	* cgi-shared/docs: Added some documentation (not very much)
	* src/fo_server.[ch], src/initfinish.c, src/modules/flt_cftp.c: added
		a hash for unique ids

2004-04-15 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_arcview.[ch]: Added thread view support for the archiv viewer
	* src/configparser.[ch]: Deleted option QuotingChars for fo_arcview_conf
	* src/modules/flt_posting.c: Added API function to convert message strings
		to proper HTML format

2004-04-14 Christian Kruse <ckruse@wwwtech.de>
	* src/fo_arcview.[ch]: Added the archiv viewer. This nasty damned code is
		*relly* fast. It manages to parse a 1mb XML index file and generate the
		HTML output in 0.7 seconds :-)

2004-04-06 Christian Kruse <ckruse@wwwtech.de>
	* src/validate.[ch]: Added validation functions for the FTP protocol.

2004-04-01 Christian Kruse <ckruse@wwwtech.de>
	* src/validate.[ch]: Added validation functions for a lot of protocols.
		Thanks to Christian Seiler for helping.

2004-03-20 Christian Kruse <ckruse@wwwtech.de>
	* src/validate.[ch]: Added validation functions for http links

2004-03-13 Christian Kruse <ckruse@wwwtech.de>
	* src/entitytable.h: Added a HTML entity table
	* src/charconvert.[ch]: Added two functions to convert UTF-8
		characters to HTML entities, if necessary.
	* src/modules/flt_posting.c: Added support for HTML entities
		for characters which cannot be displayed in the target charset
	* src/clientlib.[hc]: Added module API functions

2004-02-21 Christian Kruse <ckruse@wwwtech.de>
	* src/modules/*.c: Stripped #include "fo_view.h" from lot
		of files.
	* src/perl/CForum-Configparser: Did some bugfixes and changed
		interface. Now Perl plugins can define their own configuration
		directives and callbacks (cool! ;)
	* cgi-shared/Plugins/*.pm: Changed to the new API
	* cgi-bin/fo_post: Changed to the new API
	* cgi-shared/config/fo_post.conf.in: Deleted HTTPAuth.pm

2004-02-20 Christian Kruse <ckruse@wwwtech.de>
	* src/perl/CForum-Clientlib: Added an Perl interface for the
		client library

2004-02-18 Christian Kruse <ckruse@wwwtech.de>
	* fo_post, fo_userconf: Changed plugin architecture; plugins now
		call 'register_plugin' to register their callback routines.
	* ForumUtils.pm: added 'register_plugin' and 'get_plugin_group'.
		Now plugin handling is no longer script dependent.

2004-02-17 Christian Kruse <ckruse@wwwtech.de>
	* src/clientlib.h, src/fo_view.h: Migrated some of the
		Datatypes from fo_view.h to clientlib.h due to they
		are client independent.

2004-02-13 Christian Kruse <ckruse@wwwtech.de>
	* configparser.c: Changed behavior of get_conf_file,
		added configuration options to this file
	* fo_*: changed because of the new behavior of the
		configuration file finding algorithm
	* Makefile.in: added index target to the all dependencies
	* fo_tid_index.c: changed global variable index to idx
		because of the standard function index
	* flt_admin.c: Sends no username in administration actions
	* clientlib.c: fixed a little bug
	* Makefile.in: added a perllibs-install target, added
		CForum::Configparser
	* src/perl/CForum-Configparser: initial release
	* configure.in, configure: added CForum::Configparser

2004-02-12 Christian Kruse <ckruse@wwwtech.de>
	* ChangeLog: Added this ChangeLog file
	* clientlib.c: code cleanup, no it is truly a library
	* fo_view.c: moved send_posting and send_threadlist to
		this file. These routines are client dependent
	* src/perl/CForum-Template: added a perl interface for the
		Classic Forum template engine
	* templates: Changed template format to the Classic Forum
		template engine
	* Makefile.in: changed template handling and added perl
		module
	* template_gen.pl: several bugfixes because of line endings

2004-02-11 Christian Kruse <ckruse@wwwtech.de>
	* clientlib.c: stripped error_message and replaced it through
		str_error_message. str_error_message now can use arguments
		like printf(), the format string is the error string in the
		errormessages.txt file. Valid placeholders are %d and %s.
	* fo_view.c: replace error_message through str_error_message

